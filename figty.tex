\begin{figure}[tbp]
  \flushleft
  \hrulefill
  \paradot{Well-formedness of contexts}

  \begin{mathpar}
    \infer[]
      { }
      {\isctx{\ctxempty}}
    %

    \infer[]
      {\isctx{\Ga} \\
       \istype{\Ga}{A}
      }
      {\isctx{\Ga, x:A}}
    (x \notin \Ga)
  \end{mathpar}

  \paradot{Types}

  \begin{mathpar}
    \infer[]
      {\isctx{\Ga}}
      {\isterm{\Ga}{s}{s'}}
    (s,s')

    \infer[]
      {\isterm{\Ga}{A}{s} \\
       \isterm{\Ga,x:A}{B}{s'}
      }
      {\isterm{\Ga}{\Prod{x:A} B}{s''}}
    (s,s',s'')

    \infer[]
      {\isterm{\Ga}{A}{s} \\
       \isterm{\Ga,x:A}{B}{s'}
      }
      {\isterm{\Ga}{\Sum{x:A} B}{s''}}
    (s,s',s'')

    \infer[]
      {\isterm{\Ga}{A}{s} \\
       \isterm{\Ga}{u}{A} \\
       \isterm{\Ga}{v}{A}
      }
      {\isterm{\Ga}{\Eq{A}{u}{v}}{s}}
    %
  \end{mathpar}

  \paradot{Structural rules}

  \begin{mathpar}
    \infer[]
      {\isctx{\Ga} \\
       (x : A) \in \Ga
      }
      {\isterm{\Ga}{x}{A}}
    %

    \infer[]
      {\isterm{\Ga}{u}{A} \\
       \eqtype{\Ga}{A}{B} : s
      }
      {\isterm{\Ga}{u}{B}}
    %
  \end{mathpar}

  \paradot{$\lambda$-calculus terms}

  \begin{mathpar}
    \infer[]
      {\isterm{\Ga}{A}{s} \\
       \isterm{\Ga,x:A}{B}{s'} \\
       \isterm{\Ga,x:A}{t}{B}
      }
      {\isterm{\Ga}{\lam{x:A}{B} t}{\Prod{x:A} B}}
    %

    \infer[]
      {\isterm{\Ga}{A}{s} \\
       \isterm{\Ga,x:A}{B}{s'} \\
       \isterm{\Ga}{t}{\Prod{x:A} B} \\
       \isterm{\Ga}{u}{A}
      }
      {\isterm{\Ga}{\app{t}{x:A}{B}{u}}{B[x \sto u]}}
    %

    \infer[]
      {\isterm{\Ga}{u}{A} \\
       \isterm{\Ga}{A}{s} \\
       \isterm{\Ga,x:A}{B}{s'} \\
       \isterm{\Ga}{v}{B[x \sto u]}
      }
      {\isterm{\Ga}{\pair{x:A}{B}{u}{v}}{\Sum{x:A}{B}}}
    %
      \\

    \infer[]
      {\isterm{\Ga}{p}{\Sum{x:A}{B}}}
      {\isterm{\Ga}{\pio{x:A}{B}{p}}{A}}
    %

    \infer[]
      {\isterm{\Ga}{p}{\Sum{x:A}{B}}}
      {\isterm{\Ga}{\pit{x:A}{B}{p}}{B[x \sto \pio{x:A}{B}{p}]}}
    %
  \end{mathpar}

  \paradot{Equality terms}

  \begin{mathpar}
    \infer[]
      {\isterm{\Ga}{A}{s} \\
       \isterm{\Ga}{u}{A}
      }
      {\isterm{\Ga}{\refl{A} u}{\Eq{A}{u}{u}}}
    %

    \infer[]
      {\isterm{\Ga}{e_1,e_2}{\Eq{A}{u}{v}}}
      {\isterm{\Ga}{\uip{A}{u}{v}{e_1}{e_2}}{\Eq{}{e_1}{e_2}}}
    %

    \infer[]
      {\isterm{\Ga}{A}{s} \\
       \isterm{\Ga}{u,v}{A} \\
       \isterm{\Ga, x:A, e:\Eq{A}{u}{x}}{P}{s'} \\
       \isterm{\Ga}{p}{\Eq{A}{u}{v}} \\
       \isterm{\Ga}{w}{P[x \sto u, e \sto \refl{A} u]}
      }
      {\isterm
        {\Ga}
        {\J{A}{u}{x.e.P}{w}{v}{p}}
        {P[x \sto v, e \sto p]}
      }
    %

    \infer[]
      {\isterm{\Ga}{f,g}{\Prod{x:A} B} \\
       \isterm
         {\Ga}
         {e}
         {\Prod{x:A} \Eq{B}{\app{f}{x:A}{B}{x}}{\app{g}{x:A}{B}{x}}}
      }
      {\isterm{\Ga}{\funext{x:A}{B}{f}{g}{e}}{\Eq{}{f}{g}}}
    %
  \end{mathpar}

  \hrulefill
  \vspace{-2ex}
  \caption{Typing rules}
  \label{fig:ty-rules}
\end{figure}
