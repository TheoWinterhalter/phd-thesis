\begin{figure*}[htbp]
  \flushleft
  \hrulefill
  \paradot{Equivalence relation}

  \begin{mathpar}
    \infer[]
      {\isterm{\Ga}{u}{A}}
      {\eqterm{\Ga}{u}{u}{A}}
    %

    \infer[]
      {\eqterm{\Ga}{u}{v}{A}}
      {\eqterm{\Ga}{v}{u}{A}}
    %

    \infer[]
      {\eqterm{\Ga}{u}{v}{A} \\
       \eqterm{\Ga}{v}{w}{A}
      }
      {\eqterm{\Ga}{u}{w}{A}}
    %
  \end{mathpar}

  \paradot{Congruence of type constructors}

  \begin{mathpar}
    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga,x:A_1}{B_1}{B_2}{s'}
      }
      {\eqterm{\Ga}{\Prod{x:A_1} B_1}{\Prod{x:A_2} B_2}{s''}}
    (s,s',s'')

    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga,x:A_1}{B_1}{B_2}{s'}
      }
      {\eqterm{\Ga}{\Sum{x:A_1} B_1}{\Sum{x:A_2} B_2}{s''}}
    (s,s',s'')

    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga}{u_1}{u_2}{A_1} \\
       \eqterm{\Ga}{v_1}{v_2}{A_1}
      }
      {\eqterm{\Ga}{\Eq{A_1}{u_1}{v_1}}{\Eq{A_2}{u_2}{v_2}}{s}}
    %
  \end{mathpar}

  \paradot{Congruence of $\lambda$-calculus terms}

  \begin{mathpar}
    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga,x:A_1}{B_1}{B_2}{s'} \\
       \eqterm{\Ga,x:A_1}{t_1}{t_2}{B_1}
      }
      {\eqterm{\Ga}{\lam{x:A_1}{B_1} t_1}{\lam{x:A_2}{B_2} t_2}{\Prod{x:A_1} B_1}}
    %

    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga,x:A_1}{B_1}{B_2}{s'} \\
       \eqterm{\Ga}{t_1}{t_2}{\Prod{x:A_1} B_1} \\
       \eqterm{\Ga}{u_1}{u_2}{A_1}
      }
      {\eqterm
        {\Ga}
        {\app{t_1}{x:A_1}{B_1}{u_1}}
        {\app{t_1}{x:A_1}{B_1}{u_1}}
        {B_1[x \sto u_1]}
      }
    %

    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga}{u_1}{u_2}{A_1} \\
       \eqterm{\Ga,x:A_1}{B_1}{B_2}{s'} \\
       \eqterm{\Ga}{v_1}{v_2}{B_1[x \sto u_1]}
      }
      {\eqterm
        {\Ga}
        {\pair{x:A_1}{B_1}{u_1}{v_1}}
        {\pair{x:A_2}{B_2}{u_2}{v_2}}
        {\Sum{x:A_1}{B_1}}
      }
    %

    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga,x:A_1}{B_1}{B_2}{s'} \\
       \eqterm{\Ga}{p_1}{p_2}{\Sum{x:A_1}{B_1}}
      }
      {\eqterm{\Ga}{\pio{x:A_1}{B_1}{p_1}}{\pio{x:A_2}{B_2}{p_2}}{A_1}}
    %

    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga,x:A_1}{B_1}{B_2}{s'} \\
       \eqterm{\Ga}{p_1}{p_2}{\Sum{x:A_1}{B_1}}
      }
      {\eqterm
        {\Ga}
        {\pit{x:A_1}{B_1}{p_1}}
        {\pit{x:A_2}{B_2}{p_2}}
        {B_1[x \sto \pio{x:A_1}{B_1}{p_1}]}
      }
    %
  \end{mathpar}

  \paradot{Congruence of equality terms}

  \begin{mathpar}
    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga}{u_1}{u_2}{A}
      }
      {\eqterm{\Ga}{\refl{A_1} u_1}{\refl{A_2} u_2}{\Eq{A_1}{u_1}{u_1}}}
    %

    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga}{u_1}{u_2}{A_1} \\
       \eqterm{\Ga}{v_1}{v_2}{A_1} \\
       \eqterm{\Ga, x:A_1, e:\Eq{A_1}{u_1}{x}}{P_1}{P_2}{s'} \\
       \eqterm{\Ga}{p_1}{p_2}{\Eq{A_1}{u_1}{v_1}} \\
       \eqterm{\Ga}{w_1}{w_2}{P_1[x \sto u_1, e \sto \refl{A_1} u_1]}
      }
      {\eqterm
        {\Ga}
        {\J{A_1}{u_1}{x.e.P_1}{w_1}{v_1}{p_1}}
        {\J{A_2}{u_2}{x.e.P_2}{w_2}{v_2}{p_2}}
        {P[x \sto v_1, e \sto p_1]}
      }
    %

    \infer[]
      {\eqterm{\Ga}{A_1}{A_2}{s} \\
       \eqterm{\Ga,x:A_1}{B_1}{B_2}{s'} \\
       \eqterm{\Ga}{f_1}{f_2}{\Prod{x:A_1} B_1} \\
       \eqterm{\Ga}{g_1}{g_2}{\Prod{x:A_1} B_1} \\
       \eqterm
         {\Ga}
         {e_1}
         {e_2}
         {\Prod{x:A_1}
          \Eq{B_1}{\app{f_1}{x:A_1}{B_1}{x}}{\app{g_1}{x:A_1}{B_1}{x}}}
      }
      {\eqterm
        {\Ga}
        {\funext{x:A_1}{B_1}{f_1}{g_1}{e_1}}
        {\funext{x:A_2}{B_2}{f_2}{g_2}{e_2}}
        {\Eq{}{f_1}{g_1}}
      }
    %

    \infer[]
      {\eqtype{\Ga}{A_1}{A_2} \\
       \eqterm{\Ga}{u_1}{u_2}{A_1} \\
       \eqterm{\Ga}{v_1}{v_2}{A_2} \\
       \eqterm{\Ga}{p_1}{p_2}{\Eq{A_1}{u_1}{v_1}} \\
       \eqterm{\Ga}{q_1}{q_2}{\Eq{A_1}{u_1}{v_1}} \\
      }
      {\eqterm
        {\Ga}
        {\uip{A_1}{u_1}{v_1}{p_1}{q_1}}
        {\uip{A_2}{u_2}{v_2}{p_2}{q_2}}
        {\Eq{}{p_1}{q_1}}
      }
    %
  \end{mathpar}
  \hrulefill
  \vspace{-2ex}
  \caption{Congruence rules}
  \label{fig:cong-rules}
\end{figure*}
